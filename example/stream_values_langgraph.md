【流式响应开始】
{'messages': [HumanMessage(content='你好啊，介绍下什么是LangGraph', additional_kwargs={}, response_metadata={}, id='11723155-ea86-4351-951e-e8ecb2b0c46c')]}
{'messages': [HumanMessage(content='你好啊，介绍下什么是LangGraph', additional_kwargs={}, response_metadata={}, id='11723155-ea86-4351-951e-e8ecb2b0c46c'), AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_tAfhi043Hec3PajuYctJNixO', 'function': {'arguments': '{"query":"什么是LangGraph"}', 'name': 'web_search'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 17, 'prompt_tokens': 58, 'total_tokens': 75, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_799e4ca3f1', 'id': 'chatcmpl-C1pzWsONyqzjl6T6z6Sj2pBpPXB7F', 'service_tier': 'default', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run--09ac6204-a629-4705-9f10-5efbffb5c6a7-0', tool_calls=[{'name': 'web_search', 'args': {'query': '什么是LangGraph'}, 'id': 'call_tAfhi043Hec3PajuYctJNixO', 'type': 'tool_call'}], usage_metadata={'input_tokens': 58, 'output_tokens': 17, 'total_tokens': 75, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}
{'messages': [HumanMessage(content='你好啊，介绍下什么是LangGraph', additional_kwargs={}, response_metadata={}, id='11723155-ea86-4351-951e-e8ecb2b0c46c'), AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_tAfhi043Hec3PajuYctJNixO', 'function': {'arguments': '{"query":"什么是LangGraph"}', 'name': 'web_search'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 17, 'prompt_tokens': 58, 'total_tokens': 75, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_799e4ca3f1', 'id': 'chatcmpl-C1pzWsONyqzjl6T6z6Sj2pBpPXB7F', 'service_tier': 'default', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run--09ac6204-a629-4705-9f10-5efbffb5c6a7-0', tool_calls=[{'name': 'web_search', 'args': {'query': '什么是LangGraph'}, 'id': 'call_tAfhi043Hec3PajuYctJNixO', 'type': 'tool_call'}], usage_metadata={'input_tokens': 58, 'output_tokens': 17, 'total_tokens': 75, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}), ToolMessage(content='LangGraph核心技术概念，LangGraph和LangChain同宗同源，底层架构完全相同、接口完全相通。从开发者角度来说，LangGraph也是使用LangChain底层API来接入各类大模型、LangGraph也完全兼容LangChain内置的一系列工具。换而言之，LangGraph的核心功能都是依托LangChain来完成。但是和LangChain的链式工作流哲学完全不同的是，LangGraph的基础哲学是构建图结构的工作流，并引入“状态”这一核心概念来描绘任务执行情况，从而拓展了LangChain LCEL链式语法的功能灵活程度。', name='web_search', id='47a5685a-aae3-42a3-bb8d-df4b363efc55', tool_call_id='call_tAfhi043Hec3PajuYctJNixO')]}
{'messages': [HumanMessage(content='你好啊，介绍下什么是LangGraph', additional_kwargs={}, response_metadata={}, id='11723155-ea86-4351-951e-e8ecb2b0c46c'), AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_tAfhi043Hec3PajuYctJNixO', 'function': {'arguments': '{"query":"什么是LangGraph"}', 'name': 'web_search'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 17, 'prompt_tokens': 58, 'total_tokens': 75, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_799e4ca3f1', 'id': 'chatcmpl-C1pzWsONyqzjl6T6z6Sj2pBpPXB7F', 'service_tier': 'default', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run--09ac6204-a629-4705-9f10-5efbffb5c6a7-0', tool_calls=[{'name': 'web_search', 'args': {'query': '什么是LangGraph'}, 'id': 'call_tAfhi043Hec3PajuYctJNixO', 'type': 'tool_call'}], usage_metadata={'input_tokens': 58, 'output_tokens': 17, 'total_tokens': 75, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}}), ToolMessage(content='LangGraph核心技术概念，LangGraph和LangChain同宗同源，底层架构完全相同、接口完全相通。从开发者角度来说，LangGraph也是使用LangChain底层API来接入各类大模型、LangGraph也完全兼容LangChain内置的一系列工具。换而言之，LangGraph的核心功能都是依托LangChain来完成。但是和LangChain的链式工作流哲学完全不同的是，LangGraph的基础哲学是构建图结构的工作流，并引入“状态”这一核心概念来描绘任务执行情况，从而拓展了LangChain LCEL链式语法的功能灵活程度。', name='web_search', id='47a5685a-aae3-42a3-bb8d-df4b363efc55', tool_call_id='call_tAfhi043Hec3PajuYctJNixO'), AIMessage(content='LangGraph 是一个基于 LangChain 的高级工作流框架。它和 LangChain 同宗同源，底层架构和接口完全兼容。LangGraph 主要用于构建“图结构”的工作流，而不是传统的链式（线性）工作流。\n\n核心特点包括：\n\n1. 图结构工作流：LangGraph 允许开发者将任务以节点和边的形式组织，支持更复杂的分支、循环和条件逻辑，适合多步骤、多路径的复杂任务。\n2. 状态管理：引入了“状态”这一核心概念，可以在工作流执行过程中追踪和管理任务的执行情况。\n3. 兼容性强：完全兼容 LangChain 的 API 和工具，开发者可以无缝切换和复用已有的 LangChain 资源。\n4. 灵活性高：相比 LangChain 的链式语法，LangGraph 的图结构和状态管理让工作流的功能和灵活性大大提升。\n\n简单来说，LangGraph 是 LangChain 的进阶版，适合需要复杂流程控制和状态追踪的 AI 应用开发场景。', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 246, 'prompt_tokens': 230, 'total_tokens': 476, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 0, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'gpt-4.1-2025-04-14', 'system_fingerprint': 'fp_799e4ca3f1', 'id': 'chatcmpl-C1pzY95TWLTMP9bOkrOsA1TGGumfN', 'service_tier': 'default', 'finish_reason': 'stop', 'logprobs': None}, id='run--b6e1ef02-7381-4d3d-bb69-622c675969b4-0', usage_metadata={'input_tokens': 230, 'output_tokens': 246, 'total_tokens': 476, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 0}})]}

【流式响应结束】